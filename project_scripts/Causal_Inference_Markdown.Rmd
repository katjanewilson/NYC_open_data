---
title: "Causal Inference Project Proposal"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Overview of Data

All Data is from the NYC Open Data Website

```{r cars}
library(tidyverse)
X2009_2010_Class_Size_School_level_Detail <- read_csv("2009_-_2010_Class_Size_-_School-level_Detail.csv")
View(X2009_2010_Class_Size_School_level_Detail)
```

## Just the Bronx

Let's just look at the Bronx to understand how these variables play out.
There are 58 District 75 schools in NYC. I am still working on identifying which schools are D75, but here is a subset of 6 that definitely are in the Bronx. District 75 schools are also identified within another school system. For instance, X043 has a D75 option within it. But X001 does not have a D75 option within it, but it does have special education classes.

```{r pressure, echo=FALSE}
## just for the Bronx
bronx_schools <- X2009_2010_Class_Size_School_level_Detail %>%
  filter(str_detect(`SCHOOL CODE`, "X")) %>%
  mutate(district_75 = ifelse(`SCHOOL CODE` %in% c('X043',
                                                      'X304',
                                                      'X178',
                                                      'X034',
                                                      'X006',
                                                      'X338'), 1, 0))
table(bronx_schools$district_75)
```



## A District 75 school in the Bronx

Sample of a schools (043) that has D75 classes

```{r pressure, echo=FALSE}
## just for the Bronx
Ps043 <- bronx_schools %>%
  filter(`SCHOOL CODE` == 'X043')
names(Ps043)
```

## A non-District 75 school in the Bronx

Sample of a schools (043) that has D75 classes

```{r pressure, echo=FALSE}
## just for the Bronx
Ps043 <- bronx_schools %>%
  filter(`SCHOOL CODE` == 'X001')
names(Ps043)
```


## Demographic Data

``` {r}

library(readr)
X2006_2012_School_Demographics_and_Accountability_Snapshot <- read_csv("2006_-_2012_School_Demographics_and_Accountability_Snapshot.csv")
View(X2006_2012_School_Demographics_and_Accountability_Snapshot)

bronx_schools_demographics <- X2006_2012_School_Demographics_and_Accountability_Snapshot %>%
  filter(str_detect(`DBN`, "X")) %>%
  mutate(district_75 = ifelse(`DBN` %in% c('07X043',
                                                   '08X304',
                                                   '11X178'), 1, 0))
table(bronx_schools_demographics$district_75)
## just for the Bronx
Ps043_demo <- bronx_schools_demographics %>%
  filter(`DBN` == '07X043')
names(Ps043_demo)
## just for the Bronx
Ps001_demo <- bronx_schools_demographics %>%
  filter(`DBN` == '07X001')
names(Ps043_demo)
```

